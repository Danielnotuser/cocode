<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Editor</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/eclipse.min.css">
</head>
<body>
<nav>
    <div class="nav-container">
        <h1>Live Editor</h1>
        <div class="nav-links">
            {{if .Username}}
            <span>Welcome, {{.Username}}</span>
            <a href="/">Dashboard</a>
            {{else}}
            <a href="/login">Login</a>
            <a href="/register">Register</a>
            {{end}}
        </div>
    </div>
</nav>
<main>
    {{if .Username}}
    <!-- Для авторизованных пользователей (dashboard) -->
    {{if eq .Template "dashboard"}}
    {{template "dashboard-content" .}}
    {{else if eq .Template "editor"}}
    {{template "editor-content" .}}
    {{end}}
    {{else}}
    <!-- Для неавторизованных пользователей -->
    {{if eq .Template "login"}}
    {{template "login-content" .}}
    {{else if eq .Template "register"}}
    {{template "register-content" .}}
    {{end}}
    {{end}}
</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/go/go.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/python/python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/clike/clike.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/css/css.min.js"></script>
</body>
</html>